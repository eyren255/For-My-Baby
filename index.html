<!DOCTYPE html>
<html lang="en" class="theme-kitty">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Shin Myat Tun ❤ Ei Myat Thin Za</title>
        <meta name="description" content="A cute, lovely, and organized site made with love." />
        <meta property="og:title" content="For My Baby" />
        <meta
            property="og:description"
            content="A cute, lovely, and organized site made with love."
        />
        <meta property="og:type" content="website" />
        <meta property="og:image" content="og-image.svg" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="For My Baby" />
        <meta
            name="twitter:description"
            content="A cute, lovely, and organized site made with love."
        />
        <meta name="twitter:image" content="og-image.svg" />
        <link rel="icon" type="image/svg+xml" href="favicon.svg" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&family=Press+Start+2P&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="styles.css?v=align1" />
        <link rel="manifest" href="site.webmanifest" />
        <script defer src="app.js?v=align1"></script>
    </head>
    <body>
        <div
            id="progress"
            style="
                position: fixed;
                inset: 0 0 auto 0;
                height: 4px;
                background: linear-gradient(90deg, #ffb3d1, #e6b3ff);
                transform-origin: left;
                transform: scaleX(0);
                z-index: 1000;
            "
        ></div>
        <header class="site-header">
            <div class="container wide row between center">
                <a class="brand" href="#hero">For My Baby</a>
                <nav class="nav">
                    <a href="index.html" aria-current="page">
                        <span class="nav-icon">🏠</span>
                        <span class="nav-text">Home</span>
                    </a>
                    <details class="menu">
                        <summary class="chip">
                            <span class="nav-icon">🎉</span>
                            <span class="nav-text">Celebrate</span>
                        </summary>
                        <div class="menu-list card">
                            <a href="pages/anniversary.html">
                                <span class="nav-icon">📅</span>
                                <span class="nav-text">Anniversary</span>
                            </a>
                            <a href="pages/cards.html">
                                <span class="nav-icon">💌</span>
                                <span class="nav-text">Cards</span>
                            </a>
                            <a href="pages/reasons.html">
                                <span class="nav-icon">💗</span>
                                <span class="nav-text">Reasons</span>
                            </a>
                        </div>
                    </details>
                    <details class="menu">
                        <summary class="chip">
                            <span class="nav-icon">💝</span>
                            <span class="nav-text">Memories</span>
                        </summary>
                        <div class="menu-list card">
                            <a href="pages/timeline.html">
                                <span class="nav-icon">🗓️</span>
                                <span class="nav-text">Timeline</span>
                            </a>
                            <a href="pages/polaroid.html">
                                <span class="nav-icon">📷</span>
                                <span class="nav-text">Gallery</span>
                            </a>
                        </div>
                    </details>
                    <details class="menu">
                        <summary class="chip">
                            <span class="nav-icon">🎮</span>
                            <span class="nav-text">Play</span>
                        </summary>
                        <div class="menu-list card">
                            <a href="pages/quiz.html">
                                <span class="nav-icon">💘</span>
                                <span class="nav-text">Love Quiz</span>
                            </a>
                            <a href="pages/tictactoe.html">
                                <span class="nav-icon">❌⭕</span>
                                <span class="nav-text">Tic‑tac‑toe</span>
                            </a>
                        </div>
                    </details>
                    <a href="pages/study.html">
                        <span class="nav-icon">📚</span>
                        <span class="nav-text">Study</span>
                    </a>
                </nav>
                <button id="themeToggle" class="chip" aria-label="Toggle theme">🌙</button>
            </div>
        </header>

        <main class="container wide">
            <section class="section card reveal">
                <div role="tablist" aria-label="Home tabs">
                    <button
                        role="tab"
                        aria-selected="true"
                        aria-controls="panel-overview"
                        id="tab-overview"
                    >
                        Overview
                    </button>
                    <button
                        role="tab"
                        aria-selected="false"
                        aria-controls="panel-milestones"
                        id="tab-milestones"
                    >
                        Milestones
                    </button>
                    <button
                        role="tab"
                        aria-selected="false"
                        aria-controls="panel-explore"
                        id="tab-explore"
                    >
                        Explore
                    </button>
                </div>

                <div id="panel-overview" role="tabpanel" tabindex="0" class="active">
                    <div class="grid-12 xl-gap">
                        <div
                            class="u-col-span-7"
                            style="display: grid; align-content: start; gap: 16px; padding: 20px 0"
                        >
                            <h1 class="title-script">Shin Myat Tun ❤ Ei Myat Thin Za</h1>
                            <h2 class="title-lg">A cozy little place for our love story</h2>
                            <p class="lead">Together is my favorite place to be.</p>
                            <div
                                class="u-flex u-gap-10 u-wrap u-justify-center"
                                style="margin: 16px 0"
                            >
                                <a class="btn pixel sparkle" href="pages/polaroid.html">
                                    📷 Gallery
                                </a>
                                <a class="btn primary pixel sparkle" href="pages/timeline.html">
                                    🗓️ Timeline
                                </a>
                                <a class="btn pixel sparkle" href="#forever">💞 Forever</a>
                            </div>

                            <h3 class="section-title" style="margin-top: 12px">🌸 About us</h3>
                            <p class="prose">
                                We’re two hearts sharing one story. This cozy scrapbook holds our
                                favorite moments, the smiles we’ve shared, and the days we’ve spent
                                growing together.
                            </p>
                            <ul class="timeline-preview">
                                <li>
                                    💌 First message — Jan 2025 · "Who knew a hi could feel this
                                    warm?"
                                </li>
                                <li>
                                    🌹 First date — Feb 2025 · Butterflies, giggles, and long walks.
                                </li>
                                <li>
                                    📸 First trip — May 2025 · Sunscreen, playlists, and endless
                                    photos.
                                </li>
                            </ul>
                            <h4 class="section-title" style="margin-top: 8px">🧩 Fun Facts</h4>
                            <ul class="timeline-preview">
                                <li>🍜 Favorite food: Noodles & hotpot</li>
                                <li>🎬 Movie comfort: Rom-coms with popcorn</li>
                                <li>🎨 Colors: Soft pink + lavender</li>
                            </ul>
                            <p class="muted" id="rotatingQuote" style="margin-top: 8px"></p>
                            <button id="surprise" class="btn pixel" style="margin-top: 8px">
                                💌 Surprise me
                            </button>
                            <ul class="timeline-preview">
                                <li>💌 First message – Jan 2025</li>
                                <li>🌸 First date – Feb 2025</li>
                                <li>📸 First trip – May 2025</li>
                            </ul>
                        </div>
                        <div
                            class="u-col-span-5 u-center"
                            style="
                                position: relative;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                min-height: 400px;
                            "
                        >
                            <div class="hero-photos">
                                <img
                                    src="images/shin.jpg"
                                    alt="Shin Myat Tun"
                                    class="round-photo big"
                                    loading="lazy"
                                    decoding="async"
                                />
                                <img
                                    src="images/ei.jpg"
                                    alt="Ei Myat Thin Za"
                                    class="round-photo"
                                    loading="lazy"
                                    decoding="async"
                                />
                            </div>
                            <div class="decor" aria-hidden="true">
                                <span style="left: 10%; bottom: -10%"></span>
                                <span style="left: 40%; bottom: -12%; animation-delay: 2s"></span>
                                <span style="left: 70%; bottom: -8%; animation-delay: 4s"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="panel-milestones" role="tabpanel" tabindex="0" hidden>
                    <div class="grid-12 xl-gap">
                        <div class="u-col-span-7">
                            <h2 class="section-title">📅 Anniversary</h2>
                            <div class="stat">
                                <div class="stat-number" id="daysTogether">0</div>
                                <div class="stat-label">Days together</div>
                            </div>
                            <p class="muted">
                                Next anniversary in
                                <strong>
                                    <span id="daysToAnniv">0</span>
                                    days
                                </strong>
                                ·
                                <span id="nextMilestone">1 year</span>
                            </p>
                        </div>
                        <div class="u-col-span-5">
                            <h2 class="section-title">💗 Reasons I Love You</h2>
                            <ul class="reasons">
                                <li>You're my safe place and my adventure.</li>
                                <li>Your smile brightens my whole day.</li>
                                <li>You care in a million tiny ways.</li>
                                <li>We laugh at the same silly things.</li>
                                <li>You make love feel easy and true.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="panel-explore" role="tabpanel" tabindex="0" hidden>
                    <h2 class="section-title">✨ Explore</h2>
                    <!-- Mini scrapbook gallery -->
                    <section id="gallery" class="section card" style="margin: 10px 0">
                        <h3 class="section-title">📷 Little Moments</h3>
                        <div class="grid gallery">
                            <div class="polaroid">
                                <img
                                    src="images/shin.jpg"
                                    alt="Shin smiling"
                                    loading="lazy"
                                    decoding="async"
                                />
                                <div class="cap">Shin — sunshine smile</div>
                            </div>
                            <div class="polaroid">
                                <img
                                    src="images/ei.jpg"
                                    alt="Ei candid"
                                    loading="lazy"
                                    decoding="async"
                                />
                                <div class="cap">Ei — sweet and shy</div>
                            </div>
                        </div>
                    </section>
                    <section class="section card" style="margin: 10px 0">
                        <h3 class="section-title">🎶 Our Songs</h3>
                        <div class="prose muted" style="margin-bottom: 8px">
                            A few tracks that feel like us.
                        </div>
                        <!-- Replace src with your shared playlist link -->
                        <iframe
                            style="border-radius: 12px"
                            src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M"
                            width="100%"
                            height="200"
                            frameborder="0"
                            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                            loading="lazy"
                        ></iframe>
                    </section>
                    <div class="feature-grid">
                        <a class="feature-card" href="pages/anniversary.html">
                            <div class="icon">📅</div>
                            <div class="title">Anniversary</div>
                            <div class="muted">Days together and milestones</div>
                        </a>
                        <a class="feature-card" href="pages/reasons.html">
                            <div class="icon">💗</div>
                            <div class="title">Reasons</div>
                            <div class="muted">Sweet reasons I love you</div>
                        </a>
                        <a class="feature-card" href="pages/cards.html">
                            <div class="icon">💌</div>
                            <div class="title">Cards</div>
                            <div class="muted">Little messages, big love</div>
                        </a>
                        <a class="feature-card" href="pages/timeline.html">
                            <div class="icon">🗓️</div>
                            <div class="title">Timeline</div>
                            <div class="muted">Our memories in order</div>
                        </a>
                        <a class="feature-card" href="pages/polaroid.html">
                            <div class="icon">📷</div>
                            <div class="title">Polaroid Wall</div>
                            <div class="muted">Pin and arrange photos</div>
                        </a>
                        <a class="feature-card" href="pages/quiz.html">
                            <div class="icon">💘</div>
                            <div class="title">Love Quiz</div>
                            <div class="muted">Fun questions about us</div>
                        </a>
                        <a class="feature-card" href="pages/tictactoe.html">
                            <div class="icon">❌⭕</div>
                            <div class="title">Tic‑tac‑toe</div>
                            <div class="muted">A playful little game</div>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <div class="container center muted">
                Made with 💕 · ©
                <span id="year"></span>
            </div>
        </footer>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox" aria-hidden="true">
            <button class="lightbox-close" aria-label="Close">✖</button>
            <img id="lightboxImg" alt="Photo" />
            <p id="lightboxCap" class="muted"></p>
        </div>

        <!-- Background music (optional) -->
        <audio id="bgm" loop preload="none">
            <!-- Replace with a meaningful song URL you both like -->
            <!-- <source src="music/oursong.mp3" type="audio/mpeg" /> -->
        </audio>

        <script>
            // Set current year
            document.getElementById("year").textContent = new Date().getFullYear();

            // Counters: days together and next anniversary
            (function () {
                const startDateStr = "2025-09-13";
                const start = new Date(startDateStr + "T00:00:00");
                const daysEl = document.getElementById("daysTogether");
                const annivEl = document.getElementById("daysToAnniv");
                const milestoneEl = document.getElementById("nextMilestone");
                if (isNaN(start.getTime())) return;
                function animateCount(el, to, duration = 1200) {
                    if (!el) return;
                    const media = window.matchMedia("(prefers-reduced-motion: reduce)");
                    if (media.matches) {
                        el.textContent = String(Math.max(0, Math.floor(to)));
                        return;
                    }
                    const from = 0;
                    const startTime = performance.now();
                    function frame(now) {
                        const t = Math.min(1, (now - startTime) / duration);
                        const eased = 1 - Math.pow(1 - t, 3);
                        const val = Math.round(from + (to - from) * eased);
                        el.textContent = String(val);
                        if (t < 1) requestAnimationFrame(frame);
                    }
                    requestAnimationFrame(frame);
                }

                // Days together
                const today = new Date();
                const diffMs = today.setHours(0, 0, 0, 0) - start.setHours(0, 0, 0, 0);
                const days = Math.max(0, Math.floor(diffMs / 86400000));
                if (daysEl) animateCount(daysEl, days);

                // Next anniversary
                const year = today.getFullYear();
                const m = (start.getMonth() + 1).toString().padStart(2, "0");
                const d = start.getDate().toString().padStart(2, "0");
                const thisAnniv = new Date(`${year}-${m}-${d}T00:00:00`);
                const nextAnniv =
                    thisAnniv >= new Date(today.toDateString())
                        ? thisAnniv
                        : new Date(`${year + 1}-${m}-${d}T00:00:00`);
                const daysTo = Math.ceil((nextAnniv - new Date()) / 86400000);
                if (annivEl) animateCount(annivEl, Math.max(0, daysTo), 900);
                const years = nextAnniv.getFullYear() - start.getFullYear();
                if (milestoneEl)
                    milestoneEl.textContent = years + (years === 1 ? " year" : " years");
            })();

            // Theme switch (light/dark)
            (function () {
                const btn = document.getElementById("themeToggle");
                const root = document.documentElement;
                function set(mode) {
                    if (mode === "dark") {
                        root.classList.add("dark");
                        btn.textContent = "☀️";
                    } else {
                        root.classList.remove("dark");
                        btn.textContent = "🌙";
                    }
                    localStorage.setItem("theme", mode);
                }
                const saved = localStorage.getItem("theme");
                set(saved === "dark" ? "dark" : "light");
                btn.addEventListener("click", () => {
                    set(root.classList.contains("dark") ? "light" : "dark");
                });
            })();

            // Background music toggle with persistence
            (function () {
                const audio = document.getElementById("bgm");
                if (!audio) return;
                const KEY = "bgm-on";
                const ctrl = document.createElement("button");
                ctrl.className = "chip";
                function setBtn(on) {
                    ctrl.textContent = on ? "🔊 Music On" : "🔈 Music Off";
                }
                let on = localStorage.getItem(KEY) === "1";
                setBtn(on);
                ctrl.addEventListener("click", async () => {
                    on = !on;
                    localStorage.setItem(KEY, on ? "1" : "0");
                    setBtn(on);
                    try {
                        if (on) await audio.play();
                        else audio.pause();
                    } catch {}
                });
                // mount control in header right side
                const headerRow = document.querySelector(".site-header .container");
                if (headerRow) headerRow.appendChild(ctrl);
                // auto-play if user enabled previously (requires gesture in some browsers)
                if (on) {
                    audio.play().catch(() => {});
                }
            })();

            // Simple lightbox for gallery
            (function () {
                const lb = document.getElementById("lightbox");
                const img = document.getElementById("lightboxImg");
                const cap = document.getElementById("lightboxCap");
                const closeBtn = document.querySelector(".lightbox-close");
                const gallery = document.querySelector("#gallery .grid.gallery");
                if (!lb || !img || !gallery) return;
                function open(src, alt) {
                    img.src = src;
                    img.alt = alt || "";
                    cap.textContent = alt || "";
                    lb.setAttribute("aria-hidden", "false");
                    lb.classList.add("open");
                    document.body.style.overflow = "hidden";
                }
                function close() {
                    lb.classList.remove("open");
                    lb.setAttribute("aria-hidden", "true");
                    img.src = "";
                    cap.textContent = "";
                    document.body.style.overflow = "";
                }
                gallery.addEventListener("click", (e) => {
                    const t = e.target;
                    if (t && t.tagName === "IMG") open(t.src, t.alt);
                });
                closeBtn?.addEventListener("click", close);
                lb.addEventListener("click", (e) => {
                    if (e.target === lb) close();
                });
                window.addEventListener("keydown", (e) => {
                    if (e.key === "Escape") close();
                });
            })();

            // Scroll progress bar
            (function () {
                const bar = document.getElementById("progress");
                if (!bar) return;
                function update() {
                    const h = document.documentElement;
                    const scrolled = h.scrollTop;
                    const max = h.scrollHeight - h.clientHeight;
                    const p = max ? scrolled / max : 0;
                    bar.style.transform = `scaleX(${p})`;
                }
                window.addEventListener("scroll", update, { passive: true });
                window.addEventListener("resize", update);
                update();
            })();

            // Register service worker (PWA) with bypass flag
            (function () {
                if (!("serviceWorker" in navigator)) return;
                const params = new URLSearchParams(location.search);
                const bypass = params.has("no-sw") || params.has("disable-sw");
                if (bypass) {
                    navigator.serviceWorker.getRegistrations?.().then((regs) => {
                        regs.forEach((r) => r.unregister());
                    });
                    return; // skip registering
                }
                window.addEventListener("load", () => {
                    navigator.serviceWorker.register("./sw.js").catch(() => {});
                });
            })();

            // Scroll reveal logic
            (function () {
                const els = [...document.querySelectorAll(".reveal")];
                if (!("IntersectionObserver" in window)) {
                    els.forEach((e) => e.classList.add("in"));
                    return;
                }
                const ob = new IntersectionObserver(
                    (entries) => {
                        entries.forEach((en) => {
                            if (en.isIntersecting) {
                                en.target.classList.add("in");
                                ob.unobserve(en.target);
                            }
                        });
                    },
                    { threshold: 0.15 }
                );
                els.forEach((e) => ob.observe(e));
            })();

            // Rotating quote + Surprise memory
            (function () {
                const quotes = [
                    "Every love story is beautiful, but ours is my favorite.",
                    "You are my today and all of my tomorrows.",
                    "Home is not a place, it’s a person — you.",
                    "I still get butterflies thinking about you."
                ];
                const target = document.getElementById("rotatingQuote");
                if (target) {
                    let i = Math.floor(Math.random() * quotes.length);
                    target.textContent = quotes[i];
                    setInterval(() => {
                        i = (i + 1) % quotes.length;
                        target.textContent = quotes[i];
                    }, 8000);
                }
                const surprise = document.getElementById("surprise");
                if (surprise) {
                    const memories = [
                        "That first shy hello 💌",
                        "Our rainy walk under one umbrella ☔",
                        "Late-night talks and silly giggles 🌙",
                        "That song we looped the whole ride 🎶"
                    ];
                    surprise.addEventListener("click", () => {
                        const m = memories[Math.floor(Math.random() * memories.length)];
                        alert(m);
                    });
                }
            })();
        </script>
    </body>
</html>
